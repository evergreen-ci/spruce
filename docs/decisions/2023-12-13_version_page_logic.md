# 2023-12-13 How the version page reasons about what to load

- status: accepted
- date: 2023-12-13
- authors: Mohamed Khelif

## Context and Problem Statement

The version page can have multiple states and every time it is loaded there are
a series of checks that need to be done to determine what to load or if we
should redirect to another page. This document aims to describe the logic behind
the version page.

## Decision Outcome

Please reference the below flowchart for the logic behind the version page.

```mermaid
flowchart
	2["hasVersion(id)"] --- 565589("Error")
	style 2 fill:#acc6ff
	480632["getPatch(id)"] --- 565589
	style 480632 fill:#acc6ff
	273918["getVersion(id)"] --- 565589
	style 273918 fill:#acc6ff
	480632 ---|"is activated\n"| 273918
	2 ---|"does not have a version associated with the id\n"| 480632
	2 ---|"has a version associated with the id\n"| 273918
	965472(["setIsLoadingData(false)"]) --- 616311["redirect to patch configure page"]
	style 965472 fill:#a097ff
	style 616311 fill:#00ff33
	1{"User Visits /version/{id}"} --- 273769(["setIsLoadingData(true)"])
	style 1 fill:#00ff33
	style 273769 fill:#a097ff
	273769 --- 2
	565589 --- 229436(["setIsLoadingData(false)"])
	style 229436 fill:#a097ff
	229436 --- 835273["show error"]
	style 835273 fill:#00ff33
	860357(["setIsLoadingData(false)"]) --- 273918
	style 860357 fill:#a097ff
	860357 --- 750648["show version page"]
	style 750648 fill:#00ff33
	764900(["setIsLoadingData(false)"]) --- 164931["redirect to commit queue"]
	style 764900 fill:#a097ff
	style 164931 fill:#00ff33
	965472 ---|"is not activated and is not on commit queue"| 480632
	480632 ---|"is not activated and is on commit queue"| 764900
	142529["GraphQL request"]
	style 142529 fill:#acc6ff
	497431["User visible feedback"]
	style 497431 fill:#00ff33
	539322(["State Transition"])
	style 539322 fill:#a097ff
	891333{"User Interaction"}
	style 891333 fill:#00ff33

%% Mermaid Flow Diagram Link
%% Keep this link to make future edits to your diagram
%% https://www.mermaidflow.app/flowchart#N4IgZgNg9g7iBcoB2UAmBTAzgg2qGAlqgC4AWCAjAJxUA0Ip6BA5qcQgEwAMH9RCICiHoAHKJgLECUJAlAAPShwDMAFgB0HAKz0AnpS5cAvvVQBDYmbkgAxhDOZMWXAF16mYrojP4OcAQgIeABiQzAwZWUQNxB7ACN0CAEAVScAJwACADUCCWJMDIB6ADd0NIkZQuAiI2EQVAI09BspGQEAFQAhOrSzJABrTAARXphZRBMQETMmpGIAJT7+hC5TUYBlT28EMDMIJ0nPEXQBNNIoAFs4gFdMADk0E-ctk4n3RObidFQdvadRcSSaRIACCcUwUAg1y+1kU8AoKg02j0BmMJnwRDIlFUqnojBYbAQAA5ViB+PAQBw6mI8sDYUoAGwUdQAdh0IH08FUFFUk3MlmsdgcTmwvhiHi8Pj8YACQWCZhsNgZ4Wi9HiiQEpAcWTKFSQAAoiABKOoNJotOkUro9JbDUbjYCTaazBZLFZrMwwTaS377dCHXTHU6fPrMbwPDB1CXbN4gJzeFrfX3-KaA1qg8GQ6GvBSM5lslFcnlGdEgQgkcjwhns-GsdjwEl8H4UnnaDhUalpy25+GqLTKTTszkUJl8ixWRC2eyOKXil6i6WykIKpUqmLqpIUgDivREpAAigAZDJNACO1yw7FMjU+lpA1vovQGds9DqdM3Qc0WA3d9Q2L2Tf16COV4QHNSwkDDdAIyeOMANjeNPiTeBdj9AFaRkMEIShGFJzhHl+0HQsRwoEtaAxCtOG4PEmDrYlSXJQQGVUKhlCEdCgTaPCEC0FkOFZIdKARBkxwFSchRnBc50lBd-ECEIwgiKJ1zMBJNzA74bxaDJiCgDIbEuC5JAyc90AvU0tPTDpukfW0RlfOR3xdb9lngUlUH-H0UL+ICQBA4MWlDcNHijeDHXeBMvmbVCUxpTiM2w7N6XgXj+ILDkhI4ETS3LLF4G4XEGFowl4D4psBA4dtVGUBlOwwh0QHwgj1EE+FKpE0xx0FacRVcZ4ZNwOS5TMLgqBZNc1VUjUKScYgAElMEPKAzAaSChnHfUYvQE1r3Au8HzAuz7Uc0QPy-N03I9L14K2gMgwpERZRg0KvPCuMPkTaKfI49MsKzXCewoZrWoRLK+V6ZhmAISDAJyzFK2oIkaIJesyrJZtKRZZQWQZDsfu7RqlDUATC2USrRInUAJN6sV+u8WSZXk+VRvGsBVViKb1NmhalpW6HmHWyx9WINILx2+pLP2mzDufeyxhOqYztdH9Lr-T1vRjW7gMDUDHsCZ66ZzSZEM+wD8cwzMcJzQm2uJ9LOTJjgyIovKeUK2sSsbdGKqxqgKCJOr4uSoHVC4IiMvgKgiQ6+ouvEnrZ0Nhml3lRVlTZlS1IEZh0GIHVymBQ1UHFs1by4+9pafQY5bfU7nIu9zPM1ny7tA8CgugkLDYVk2orN1N6r+q3g55MPkQjqOY48sxIf52HyLLeHsXd4r6y9xjVBJBkycDqzuNKrQtHUCh+0RKPDARVqsY0FkuC0be2RHasGSdzqxKphOpKTwbGeGtOJo5lnCkOdiAAAULA2FIEXEukty4HSri+eWsZnSfmVq5Ru6sbot21vdDSgVILBUjN3BCH0+7eTQgPeKQ8kr7zZEfE+ZM1Dny4JfQs19WR3wfloJ+99X5q1njDchBwF65QRlQFeKN6LlQpCxFk1V2KUL3j2IkWgkQg1HG-SmU5hSJzggNXwQ0FJcHCJEdmG4UjpAyMUXIBA4jeAyGAdA3w4gKmWLtMu4wK42llsdZBSsXK-mntdLyWs-I6wChBKCBs9Exjer3ZCW1zYJX+tbOEKi1HEQ0fwqGgitYuwRqoBkyM6KlV4N7Ck-ZWKVV3gTfCXAGREnDsOasFNuo6K-jEqUhjmZjQAeYikmwLDoAyO0J89ULJ7TgZXI6Dk-H1xVhg4Jzc-StwEHrCA0ToxGwikhL6FC4q-UtjQwG9TGnj2aVoZ2i9KK9gkSU9eGN76HyJHjRRtShJshasRYSrT47tL6p0jp-SQAAFE0hpCgGkCZHjrLeOrr4t6KDzoLKuhrV4IsLyrIpBC64SAMCoHmCGAhnciGdJ7qQhJ303kW0SgDG2QNPkgx+R6ARzB575M4LjYpnsGIYyZNvIGNSuI9m4KSTkh9eSaLaZJAFWzk5M0UqYzO00NKl20rpDI0xiCQP0jIGUzBrhNE1TPWCaq95eNsj42ZiL-EN1RVglZOC25EqiV3MlJDIqUv2V2GlKTkqisLBKq5ojKAshZNytevKBBsnqZvIVDV8KhzoBPaOvyP7-NpoCn+KdFXKUmkAuM5wYBWN1MCY1OdoUWimXCxBtdFbzPQfakJ2Cwm4PbsSzZYVjYUr2bFH1yTh771Hsmzkk9wYzxyWyoRQEOX5S4HckqaNGI4xYoYeNyUtAkhJhPKgxgpV-JlZmuV2amYjV6RnfNKruaLWWqtAWG0towMmZ4+BMykE2obYEpurxQn+Qek9N1WzyWet7egJJ1C6Vwk3WHe2CAaB7uyXPadcMbluwjVI8pIAiTKC0BwLG66h0UEZcRNiRI03aMPTgaS9MT1ylzWYzmAhMBFoyGUCFUL3FVpfdMq176nKoICarIJaL56tudfg11pKgMet2f3A5wIIOpI+UfEGpHg1LznQu1GZTGLRy4DhlkBHAY1WZK1IkOJyPU10cegxv9lwsz6Yxmaucea3v5oLMwm0fJPphVaHj8LrX8eRY2tWSyf0tr-VMADUmu07NNtO8DRzIOUBM18iO5nJWIdydg2dPIkZFUkfCJdGMXkUEiFEJJyUGkMiaUJS5+702Ueo10uzoRjFKQYwW1IZQMhzTmGUBUVlOPmtfbxutSK0Ffswc2x1YnTjnCuLcTtr1u0gbk-2xTVXo61fhCfdTNyCrodKdIkAVBqyqD4kZm2NUR0IFUOTBrFGaZUe-rZlOZ7WadavS5m9fM1oPu85Wkb-na0Kwm4JxZInkNOrWdF2C0m4k9vW4PJLSn4A3cLPdvh09WWwxiN8HOC5QCRZsLcXSFw6gXBmP0Mogy0j1hAFAY4sh6BU7SDTtIIK8UCCZ5+Oo0Mvi9C4wAdQ09Rd1oAPAQpp6L1DkxGIE-QAAWnbNwe+Z2Y0VbjFAQ1NhQJUmAjMEBAgnmbteZYNIICAASfRUAxkEFGHXaQ9c27xfbhR-ItHArqN4SCrtVuyeh8T8JFJSceEuJT6ntOLcM95yzkAbOOdc4xnH-n-Whfpll3lcXCO4LS-QFnhG8uMaK6V4fcRZWuA43qVriEuvQKbxrwbvyRvc4m+rGbuoFvre2-d47+vru7egQ93HUA3u1SfmYP7uLZC8lzdD2TiPrOo9pDp7H5nkf2dlGTzzjffB0+DeBIXzgpJc9S6gDLjTpETul6oBwczlTuFZS4P353+vfb+y763hnpuXlf8t7nIPn3u4E7i7r3sPqaKPoAiqj7pPtPu9GtkHvPrYIvhTsvlvqvjHrvnzugUntzhSKnvvoLofjIMfnOsQpLiLBfgXlfsXgIKXjjOIhwJvCyEDDQK-nrgII3tvM3t3m3hSHhsoH7AHIbgAcQEARASAQPuAQICPu-NAepLkBkIfsUEMqgAADrx6+5T4IyXoQBkEUB3x6FW6rycCFS5AgoNBSDZazbxKgalgk6oGb4c5r7YHx6J7b74GM575kgH4i5i6n5hR57UEGF0EUil5EhhrmaGBjREjcAcH67-7G4yJbw7yiE95u6SHa7SGZGyGQHyHAqoBQBYAZAoDEAZBailDKEloFwyDKGOBQA2AEBqEZCEBkA6SMAZBECaGwF+66EKFkE4bKDGGmH5TmGYCWFAg2HCIIGB5z6OHh5oEJ4r6uEEE+EeGc5eGEG+HEH+EHaBGvTBGX5y436oA5xK5UC8REb3zbxaA8AJEVRJH8GYxCGf7pGAEyEtgJESF5GPbApagFBmA1F6j1EQhNEtFtGkAdHDLdFaFwH9EbhkF4b5YbgmGFbMF8ATFWFIahJ2HsrIFh7k7OHR4zDr44HLEYE75rHkkC4DZ7HZ4HGxJHE0EnGYal44a4yGA176a1RSFv4CBnaqKXbvEM78psQKJ8HiGfEO58lgG5FfF-FOYgC9E6GUAB7xbzEh4oGLHEmYGkluG6lUneE0l+GZ4BEUHMmhGnHnFMLcBRwsiRFsQPEKkt5iE+zYy4xPFSnykynZFv4-Eume7WDj6xDwlqkz5erCLB64KElL4UkuFYHUnuEr5GnbG0kZ5H7mkS6Wm0HWnK6GEOlcDYaOybrOkvGMFemPEikBm+l17+nSlyFe5KkqnwF4lIELFEm4Ekn04GldmbEp4+HpkkFIBImMnWzn7HHwEK5nHK44abxEgvJMhnavJ1mcEVId5-4ikVRVQ1Rek1kKKrnoD7n5FNkFotlF4Rn2ELwdlxkbGrHGnJmUlbGDmmmZn7EWkTkslTkl4zlK6sFqChwvLcIXZlmVTiK7lbkUjYa4b4bVkNnfHwWKlnkT59HhmzEak5YElOF9n3nbEbGpkvm7FmnvnZmflWlsm-k8jbyN76bRzN6HkCB6YGaVkCEf4iGukZFD6-F+lylcWBlQEhnaGtlI7tlamxlLF3mJkPmGnPkmlEVvkMkflUGTkXkUXnEMgNK3xkxshDFllMW8QsUgAxrMTsWSnHmylHmIWxwFHNkoWqnwjqmz6YU3kSUrFSV4UpmyXx5Dn0mVg55BFkW5lqXK6qLKAqLtj9hFkHmgGgQrq7ov6QVMQsROlwU+nRU5F8W+lBmTiCVhkOWXn4kuW6m4XrGeUDlyV0nEWKWkXKVfmqUMUUiCkXb0UxXmUcXPHcFpHtXemZXN7TnnEIgLmGF+x35Rx1B9AEBU5OUULZWUFeR+CfkhBxAUDLVxC1TKr6EaaRCFSomjEYlkhYlTFTqJIKECBKFlHKEWiqFRTKF4pdEFAXV1EGQXBGTlGmTmSOWRkzpYU6k4XuWlVPnlXeWvmkFZln61XkUNUgCdUtUZX268Hf7RrMTxV7lWX9UhXtiXH34vLwbjVICTVqH9yzXuoLW1VLUrUrXrV6GDH1IjHonjGTHWHHVUrArnVQDlEqEtG273UZBPWGTGTvUnCfX2ExDWLoAwBiA9n7xK7VjqCXGFLRyRFYx4b36FgqBHy7rNVhW4xRz3bsgABeUAEebk6gNU5mNAZML8AqoVZEEsM8vQFwAAsrnGYB5tYGABCnMI7RYILtYFIMQPbiAHyLAtxkDgQKUB0s9RcKgpHZ-K4PLhMfIJLWAn0IkAAPIb7wAYpgYgBhhQAuIQCWE5ztAh6gCoDXB7D9wQDQzoAl24LYT8D0CK7e0YF12gTbEGTQBQoUjBCrWU1B30B50F0wRt1+1antqSawSd2QoCBtZckJUgAuI2D9DMA4p4oADCkIM9PdH2Ko9AcQkKGAaQm9Xds989a6+9h9ZQ7QpABAy9SAWAoo2u1dPwmJ60zGX1JYQAA
```

<!-- This is an optional element. Feel free to remove. -->

## More Information
